<section class="section-content">
  @if(!isLoading) {
    <form [formGroup]="form">
      <mat-form-field class="form-item">
        <mat-label>Nome</mat-label>
        <input matInput formControlName="name">
        <!-- @if (this.form.controls.name.touched && this.form.controls.name.hasError('required')) {<mat-error>Nome é obrigatório</mat-error>} -->
      </mat-form-field>

      <mat-form-field class="form-item">
        <mat-label>Telefone</mat-label>
        <input matInput formControlName="phone" placeholder="Ex: (41) 91234-5678">
        <!-- @if (this.form.controls.phone.touched && this.form.controls.phone.hasError('required')) {<mat-error>Telefone é obrigatório</mat-error>} -->
      </mat-form-field>

      <mat-form-field class="form-item">
        <mat-label>CEP</mat-label>
        <input matInput formControlName="zipCode">
        <!-- @if (this.form.controls.zipCode.touched && this.form.controls.zipCode.hasError('required')) {<mat-error>CEP é obrigatório</mat-error>} -->
      </mat-form-field>

      <mat-form-field class="form-item">
        <mat-label>Rua</mat-label>
        <input matInput formControlName="street">
      </mat-form-field>

      <mat-form-field class="form-item">
        <mat-label>Número</mat-label>
        <input matInput formControlName="numberInStreet">
      </mat-form-field>

      <mat-form-field class="form-item">
        <mat-label>Bairro</mat-label>
        <input matInput formControlName="neighborhood">
      </mat-form-field>

      <mat-form-field class="form-item">
        <mat-label>Complemento</mat-label>
        <input matInput formControlName="complement" placeholder="Ex: Casa, Bloco 23 - AP 200">
      </mat-form-field>

      <div class="form-item">
        <mat-select formControlName="paymentMethod" required>
          @for(paymentOption of getPaymentOptions(); track paymentOption){
            <mat-option [value]="paymentOption">{{paymentOption.toString()}}</mat-option>
          }
        </mat-select>
      </div>
    </form>
    <div class="footer">
      <button mat-stroked-button (click)="advanceToNextStep()">Confirmar no WhatsApp!</button>
    </div>
  }
</section>
